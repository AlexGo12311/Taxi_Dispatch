{% extends 'base.html' %}

{% block title %}Удаление клиента{% endblock %}

{% block content %}
<div class="card">
    <div class="alert alert-danger" style="border-left: 4px solid #dc3545; padding-left: 20px;">
        <h1 style="color: #dc3545; margin-top: 0;">Удаление клиента</h1>
        <p style="font-size: 1.2em; margin-bottom: 20px;">
            Вы уверены, что хотите удалить клиента <strong>{{ customer.full_name }}</strong>?
        </p>
    </div>
    
    {% if customer.orders.status == 'in_progress' %}
        <div class="alert alert-warning">
            <h3>Внимание!</h3>
            <p>Удаление клиента невозможно, пока у него есть активные заказы.</p>
        </div>
        
        <div style="margin-top: 20px;">
            <a href="{% url 'customer_detail' customer.pk %}" class="btn">Вернуться к клиенту</a>
        </div>
    {% else %}
        
        <form method="post">
            {% csrf_token %}
            <div style="display: flex; gap: 15px; margin-top: 20px;">
                <button type="submit" class="btn btn-danger">
                    Удалить клиента
                </button>
                <a href="{% url 'customer_detail' customer.pk %}" class="btn">Отмена</a>
                <a href="{% url 'customer_list' %}" class="btn">Вернуться к списку</a>
            </div>
        </form>
    {% endif %}
</div>
{% endblock %}